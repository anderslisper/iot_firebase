<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>IoT Device Administration</title>
    <script type="text/javascript" src="https://www.gstatic.com/firebasejs/5.6.0/firebase-app.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/firebasejs/5.6.0/firebase-auth.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/firebasejs/5.6.0/firebase-database.js"></script>
    <script type="text/javascript" src="firebase_google_login.js"></script>
    <script type="text/javascript" src="common_functions.js"></script>
    <script type="text/javascript" src="admin_functions.js"></script>
    <style>
         table, td, th {
            border: 1px solid;
            width: 300px;
            text-align: center;
         }
    </style>
  </head>
  <body>
    <h2>IoT portal for administraion of device&nbsp;
    <select id="deviceId" style="font-size:14pt" onchange="deviceIdChanged()"></select></h2>
    <a id="portal" href="index.html">Back to portal</a>
    <hr>
    <h2>Reboot device</h2>
    <button type="button" style="width:144px;height:40px" onclick="rebootDevice()">REBOOT device</button>
    <hr>
    <h2>Create new device</h2>
    <input type='text' id='newDeviceId'   style="width:140px" placeholder="Enter device id [A..Z0..9_]..." pattern="[A-Za-z0-9_]+">
    <input type='text' id='newDeviceName' style="width:140px" placeholder="Enter visible name...">
    <input type='text' id='newLocation'   style="width:140px" placeholder="Enter location...">
    <button type="button" style="width:144px" onclick="createDevice()">Create new Device</button>
    <hr>
    <h2>Handle historic data:</h2>
    <table id='table_days'></table>
    <hr>
    <h2>Delete device</h2>
    <button type="button" style="width:144px;height:40px" onclick="deleteDevice()">DELETE device</button> NO UNDO!!!

    <script>
    // Global vars
    // Firebase path
    var gFirebaseDeviceRoot = gFirebaseRoot + "NO_DEVICE_ID_SET";
    // Current device
    var gDeviceName;
    var gDeviceFullName; // '<deviceid> in <location>'
    var gDeviceParameter = getUrlVar('deviceid');
    var gSelectedIndex = 0;
    
    loadDevices();

    </script>
  </body>
</html>
